package com.example.itiger.ui.notifications;

import android.os.Bundle;
import android.view.LayoutInflater;
import android.view.View;
import android.view.ViewGroup;
import android.widget.BaseAdapter;
import android.widget.ListView;
import android.widget.TextView;
import androidx.annotation.NonNull;
import androidx.fragment.app.Fragment;
import com.example.itiger.R;
import com.example.itiger.databinding.FragmentNotificationsBinding;

import java.util.ArrayList;
import java.util.Arrays;

public class NotificationsFragment extends Fragment {

    private FragmentNotificationsBinding binding;
    private ListView listView;
    private ArrayList<String> tips;
    private TipsAdapter adapter;

    @Override
    public View onCreateView(@NonNull LayoutInflater inflater, ViewGroup container, Bundle savedInstanceState) {
        binding = FragmentNotificationsBinding.inflate(inflater, container, false);
        View root = binding.getRoot();

        listView = binding.listViewTips;
        if (listView == null) {
            return root;
        }

        // Список советов
        tips = new ArrayList<>(Arrays.asList(
                "Разделяйте задачи на мелкие части, чтобы они казались менее сложными. Это поможет быстрее начать работу и не откладывать дела.",
                "Используйте метод Помодоро в приложении: работайте 25 минут, затем делайте 5-минутный перерыв. Это улучшит концентрацию и снизит усталость.",
                "Создавайте задачи с конкретными категориями в ТетрисТайм, чтобы легко находить их позже. Например, разделите их на 'Работа', 'Учеба' и 'Личное'.",
                "Ставьте приоритеты для задач утром, чтобы сосредоточиться на самом важном. Выполняйте сложные задачи, пока ваш мозг свеж.",
                "Играйте в Тетрис после завершения задачи, чтобы наградить себя. Это поможет поддерживать мотивацию и сделает процесс планирования увлекательным.",
                "Оценивайте сложность задач в ТетрисТайм от 1 до 5, чтобы понять, сколько времени потребуется. Это поможет лучше распределить свои силы.",
                "Планируйте не более 3-5 ключевых задач на день, чтобы не перегружать себя. Остальные задачи можно перенести на другой день.",
                "Используйте архив в ТетрисТайм, чтобы отслеживать завершенные задачи. Это даст вам чувство достижения и поможет анализировать продуктивность.",
                "Делайте короткие перерывы после каждой Помодоро-сессии и играйте в Тетрис. Это расслабит ваш мозг и подготовит его к следующей задаче.",
                "Устанавливайте реалистичные временные рамки для задач в приложении. Если задача занимает больше 2 часов, разбейте ее на части.",
                "Создавайте напоминания в ТетрисТайм для срочных задач, чтобы не пропустить дедлайны. Это особенно полезно для задач с высоким приоритетом.",
                "Проверяйте архив задач в конце недели, чтобы оценить свои успехи. Это поможет понять, какие категории задач требуют больше времени.",
                "Используйте Тетрис как способ переключиться между задачами. После завершения сложной задачи сыграйте короткую игру, чтобы снять стресс.",
                "Группируйте похожие задачи в ТетрисТайм, чтобы выполнять их подряд. Например, сначала сделайте все звонки, а затем переходите к письмам.",
                "Начинайте день с самой сложной задачи, пока у вас много энергии. Это называется 'съесть лягушку', и это повышает продуктивность.",
                "Добавляйте описания к задачам в ТетрисТайм, чтобы помнить детали. Это особенно полезно для задач, которые вы откладываете на потом.",
                "Используйте цветовую маркировку задач в Тетрисе, чтобы визуально различать их. Например, красный для срочных, синий для долгосрочных.",
                "Планируйте задачи накануне вечером, чтобы утром сразу приступить к делу. Это сэкономит время и снизит утренний стресс.",
                "Ставьте таймер Помодоро в ТетрисТайм для каждой задачи, чтобы не отвлекаться. После 4 сессий делайте длинный перерыв на 15-30 минут.",
                "Оценивайте, сколько времени вы тратите на задачи, и записывайте это в ТетрисТайм. Это поможет лучше планировать в будущем.",
                "Держите список задач в ТетрисТайм коротким, чтобы не чувствовать перегрузку. Если задач слишком много, перенесите часть в архив.",
                "Используйте Тетрис как способ снять напряжение после долгой работы. Короткая игра поможет вам перезагрузиться перед следующей задачей.",
                "Создавайте задачи с конкретными действиями, а не общими целями. Например, вместо 'Учить английский' напишите 'Выучить 10 новых слов'.",
                "Проверяйте уведомления в ТетрисТайм, чтобы не забывать о задачах. Это особенно полезно для задач с жесткими дедлайнами.",
                "Делайте перерывы каждые 90 минут, чтобы избежать выгорания. В это время сыграйте в Тетрис или просто отдохните.",
                "Используйте категорию задач в ТетрисТайм, чтобы понять, на что уходит больше времени. Это поможет оптимизировать ваш день.",
                "Ставьте небольшие цели в Тетрисе, чтобы поддерживать мотивацию. Например, завершите 3 линии перед началом следующей задачи.",
                "Планируйте задачи в зависимости от вашего уровня энергии в течение дня. Сложные задачи делайте утром, а легкие оставьте на вечер.",
                "Добавляйте заметки к задачам в ТетрисТайм, чтобы не забывать важные детали. Это особенно полезно для долгосрочных проектов.",
                "Используйте архив ТетрисТайм для анализа своих привычек. Посмотрите, какие задачи вы часто откладываете, и попробуйте их упростить.",
                "Настраивайте сложность задач в ТетрисТайм, чтобы лучше оценивать их выполнение. Например, сложность 5 может означать, что задача займет весь день.",
                "Делайте утреннюю разминку перед началом работы, чтобы зарядиться энергией. После этого сразу открывайте ТетрисТайм и начинайте с главной задачи.",
                "Используйте Тетрис как способ отметить завершение недели. Сыграйте длинную игру, чтобы расслабиться и подвести итоги.",
                "Создавайте задачи с четкими дедлайнами в ТетрисТайм, чтобы не откладывать их. Это поможет вам оставаться на правильном пути.",
                "Проверяйте, сколько Помодоро-сессий ушло на задачу, и записывайте это в ТетрисТайм. Это поможет вам лучше планировать похожие задачи.",
                "Ставьте напоминания в ТетрисТайм для задач, которые нужно сделать в определенное время. Например, 'Позвонить коллеге в 14:00'.",
                "Используйте Тетрис как способ отвлечься от сложных задач. После 25 минут работы сыграйте короткую игру, чтобы переключиться.",
                "Разделяйте задачи по времени выполнения в ТетрисТайм: короткие (до 30 минут) и длинные (более часа). Это поможет лучше управлять временем.",
                "Планируйте отдых после каждой крупной задачи, чтобы восстановить силы. В это время сыграйте в Тетрис или просто расслабьтесь.",
                "Добавляйте мотивационные заметки к задачам в ТетрисТайм, чтобы вдохновляться. Например, 'Сделай это, и ты станешь ближе к своей цели!'.",
                "Используйте архив ТетрисТайм, чтобы отслеживать прогресс за месяц. Это покажет, сколько задач вы выполнили и где можно улучшиться.",
                "Ставьте таймер Помодоро в ТетрисТайм даже для небольших задач, чтобы оставаться сосредоточенным. Это поможет избежать отвлечений.",
                "Создавайте задачи с конкретным результатом, чтобы видеть прогресс. Например, вместо 'Работать над проектом' напишите 'Написать 500 слов'.",
                "Проверяйте уведомления в ТетрисТайм перед началом дня, чтобы вспомнить, что нужно сделать. Это поможет вам не упустить важное.",
                "Делайте длинные перерывы после 4 Помодоро-сессий и играйте в Тетрис. Это даст вашему мозгу отдохнуть и зарядит энергией.",
                "Используйте категории в ТетрисТайм, чтобы разделять задачи по проектам. Например, создайте категории 'Проект А' и 'Проект Б'.",
                "Ставьте небольшие цели в ТетрисТайм, чтобы чувствовать прогресс. Например, завершите 2 задачи до обеда, а потом сыграйте в Тетрис.",
                "Планируйте задачи с учетом ваших пиков продуктивности в течение дня. Если вы продуктивны утром, делайте сложные задачи в это время.",
                "Добавляйте описание к каждой задаче в ТетрисТайм, чтобы помнить, зачем она нужна. Это поможет вам оставаться мотивированным.",
                "Используйте Тетрис как способ отметить завершение дня. После выполнения всех задач сыграйте игру, чтобы расслабиться.",
                "Проверяйте архив ТетрисТайм в конце дня, чтобы увидеть, что вы сделали. Это даст вам чувство удовлетворения и поможет планировать следующий день."));

        adapter = new TipsAdapter();
        listView.setAdapter(adapter);
        adapter.notifyDataSetChanged();

        return root;
    }

    @Override
    public void onDestroyView() {
        super.onDestroyView();
        binding = null;
    }

    private class TipsAdapter extends BaseAdapter {

        @Override
        public int getCount() {
            return tips != null ? tips.size() : 0;
        }

        @Override
        public Object getItem(int position) {
            return tips.get(position);
        }

        @Override
        public long getItemId(int position) {
            return position;
        }

        @Override
        public View getView(int position, View convertView, ViewGroup parent) {
            if (convertView == null) {
                convertView = LayoutInflater.from(requireContext())
                        .inflate(R.layout.item_tip, parent, false);
            }

            String tip = tips.get(position);
            TextView textTip = convertView.findViewById(R.id.text_tip);
            textTip.setText(tip);

            return convertView;
        }
    }
}